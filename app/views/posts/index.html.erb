<h1 style = 'text-align:center;margin-bottom:0;margin-top:70px;'>Posts</h1>


<div class="row">
  <div class="col-md-10 offset-md-1">
    <div class="card m-auto" style="max-width:850px; background-color:inherit;">
      <div class="card-body p-0">
        
        <%= form_with scope: :post, url: posts_search_path, local: true, html: {class: "d-flex align-items-center"} do |form|%>
          <%= form.text_field :search_txt, class: "form-control form-control-lg flex-shrink-1 form-control-borderless", 
          type:"search", placeholder:"Search topics or keywords", name:"searchbar", required:"", minlength:"2", style: ""  %>
          <%= form.submit "Search", class:"btn btn-success btn-lg", style: 'margin-left: 10px;'%>
        <% end %>

      </div>
    </div>
  </div>
</div>


<div class="container py-5">

  <div class="row">
    <div class="col-lg-2 filter-results-big">
      <h5><strong> Filter your results </strong></h5>
      <%# By category %>
      <div>
        <strong>By Category</strong>
        <ul>
          <%= link_to posts_find_by_category_path(category: 'Dog'), method: :post do %>
            <li style = 'color:#000;'>Dogs</li>
          <% end %>
          <%= link_to posts_find_by_category_path(category: 'Cat'), method: :post do %>
            <li style = 'color:#000;'>Cats</li>
          <% end %>
          <%= link_to posts_find_by_category_path(category: 'Horse'), method: :post do %>
            <li style = 'color:#000;'>Horses</li>
          <% end %>
          <%= link_to posts_find_by_category_path(category: 'Cow'), method: :post do %>
            <li style = 'color:#000;'>Cows</li>
          <% end %>
          <%= link_to posts_find_by_category_path(category: 'Bird'), method: :post do %>
            <li style = 'color:#000;'>Birds</li>
          <% end %>
          <%= link_to posts_find_by_category_path(category: 'Hamster'), method: :post do %>
            <li style = 'color:#000;'>Hamster</li>
          <% end %>
          <%= link_to posts_find_by_category_path(category: 'Lion'), method: :post do %>
            <li style = 'color:#000;'>Lions</li>
          <% end %>
        </ul>
      </div>
      <%# Type of publication%>
      <div>
        <strong>By Type</strong>
        <ul>
          <%= link_to posts_find_by_type_path(ptype: 'Adoption'), method: :post do %>
            <li style = 'color:#000;'>Adoption</li>
          <% end %>
          <%= link_to posts_find_by_type_path(ptype: 'Sell'), method: :post do %>
            <li style = 'color:#000;'>Sell</li>
          <% end %>
        </ul>
      </div>
      <%# By Price%>
      <div>
        <strong>By Price</strong> 
        <%= form_with scope: :post, url: posts_find_by_price_path, local: true do |form|%>
          <div class = 'row m-1'>
            <%= form.label :'Min price', class: 'col-6' %> 
            <%= form.number_field :min_price, class: 'col-6', placeholder: '5000' %>
          </div>
          <div class = 'm-1 row'>
            <%= form.label :'Max price', class: 'col-6' %> 
            <%= form.number_field :max_price, class: 'col-6', placeholder: '20000' %>
          </div>
          <div class = 'd-flex justify-content-center'>
            <%= form.submit "Search", class:"w-75 btn btn-secondary btn-md m-2"%>
          </div>
        <% end %>
      </div>
    </div>


    
    <div class="col-lg-10 mx-auto">

      <!-- List group-->
      <ul class="list-group shadow">
        
        <% @posts.each do |post|%>
          <%= render "posts/horizontal_post", :@post => post%>
        <% end %>
        <% if not @posts.any?%>
          <p>We didnÂ´t found posts matching the requirements</p>
        <% end %>

      </ul>
      <!-- End -->
    </div>
  </div>
</div>
